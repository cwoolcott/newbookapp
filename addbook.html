<html>

<head>
    <title>Add Book</title>
</head>

<body>
    <h1>ADD BOOK</h1>
    <a href="/books">Click Here To See Books</a>
    <br><br>
    <form>
        Title: <input type="text" id="title">
        <br>
        Author: <input type="text" id="author">
        <br>
        <input type="submit" id="addBook" value="Add Book">
    </form>
    <script>
        // Fetch request to add a new pet

        const titleInput = document.getElementById('title');
        const authorInput = document.getElementById('author');
        const addButton = document.getElementById('addBook');

        addButton.addEventListener('click', (e) => {

            var book = {
                "title": titleInput.value.trim(),
                "author": authorInput.value.trim()
            };

            fetch('/api/addbook', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(book)
            })
                .then((res) => res.json())
                .then((data) => {
                    console.log("added", data)
                    titleInput.value = "";
                    authorInput.value = "";
                });
        })
    </script>

</body>

</html>